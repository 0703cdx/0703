import streamlit as st
import pandas as pd

# é¡µé¢è®¾ç½®èœœé›ªå†°åŸ
st.set_page_config(page_title="å—å®åœ°å›¾")
st.title("ğŸ” å—å®èœœé›ªå†°åŸæ¢ç´¢")

# ä»‹ç»
st.markdown("""
æ¢ç´¢å¹¿è¥¿å—å®æœ€å—æ¬¢è¿çš„èœœé›ªå†°åŸåœ°ç‚¹ï¼é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„é¤å…ç±»å‹ï¼ŒæŸ¥çœ‹ä»·æ ¼å’Œä½ç½®ã€‚
""")

# é¤å…æ•°æ®
restaurants = pd.DataFrame({
    "åº—é¢": ["ç™¾ç››åº—", "è¥¿å¤§åœ°é“ç«™åº—", "è¥¿ä¹¡å¡˜å¸‚åœºåº—", "å®‰å‰ä¸‡è¾¾é‡‘è¡—åº—", "æ­£æ’åº—"],
    "ç±»å‹": ["é¥®æ–™", "é¥®æ–™", "é¥®æ–™", "é¥®æ–™", "é¥®æ–™"],
    "è¯„åˆ†": [4.2, 4.5, 4.0, 4.7, 4.3],
    "äººå‡æ¶ˆè´¹(å…ƒ)": [15, 13, 10, 8, 6],
    "ä½ç½®X": [22.815376, 22.289747, 22.246386, 22.291924, 22.832483],
    "ä½ç½®Y": [108.321088, 108.289747, 108.246386, 108.291924, 108.299900]
})

# 1. å¸¦ç‚¹çš„åœ°å›¾ - é¤å…ä½ç½®
st.header(" å—å®èœœé›ªå†°åŸåœ°å›¾")

st.map(pd.DataFrame({
    "lat": restaurants["ä½ç½®X"],
    "lon": restaurants["ä½ç½®Y"],
    "åº—é¢": restaurants["åº—é¢"]
}))

st.header("â­ åº—é¢è¯„åˆ†")
st.bar_chart(restaurants.set_index("åº—é¢")["è¯„åˆ†"])



df = pd.DataFrame(restaurants)
# å®šä¹‰æ•°æ®æ¡†æ‰€ç”¨çš„æ–°ç´¢å¼•
index = pd.Series([1, 2, 3, 4, 5], name='åº—é¢')
# å°†æ–°ç´¢å¼•åº”ç”¨åˆ°æ•°æ®æ¡†ä¸Š
df.index = index
st.write(df)
st.header("äººå‡ä»·æ ¼")
st.subheader("ä½ç½®")
st.line_chart(df, x='åº—é¢')


data = {
    "æœˆä»½":['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],
    "ç™¾ç››åº—":['11', '15', '12', '24', '22', '23', '21', '24', '14', '12', '11', '15'],             
    "è¥¿å¤§åœ°é“ç«™åº—":['11', '18', '12', '23', '15', '22', '11', '22', '11', '22', '21', '14'],
    "è¥¿ä¹¡å¡˜å¸‚åœºåº—":['14', '15', '14', '24', '25', '18', '21', '22', '20', '23', '12', '20'],
    "å®‰å‰ä¸‡è¾¾é‡‘è¡—åº—":['14', '11', '15', '23', '26', '22', '11', '10', '15', '22', '20', '19'],
    "æ­£æ’åº—":['15', '13', '16', '15', '20', '12', '21', '12', '11', '25', '22', '11'],
}
    
# æ ¹æ®ä¸Šé¢åˆ›å»ºçš„dataï¼Œåˆ›å»ºæ•°æ®æ¡†
df = pd.DataFrame(data)
# å®šä¹‰æ•°æ®æ¡†æ‰€ç”¨çš„æ–°ç´¢å¼•
index = pd.Series([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], name='åºå·')
 # å°†æ–°ç´¢å¼•åº”ç”¨åˆ°æ•°æ®æ¡†ä¸Š

df.index = index
st.subheader("ä»·æ ¼èµ°åŠ¿")
# é€šè¿‡xæŒ‡å®šæœˆä»½æ‰€åœ¨è¿™ä¸€åˆ—ä¸ºæŠ˜çº¿å›¾çš„xè½´
st.line_chart(df, x='æœˆä»½')

# ä¿®æ”¹dfï¼Œç”¨æœˆä»½åˆ—ä½œä¸ºdfçš„ç´¢å¼•ï¼Œæ›¿æ¢åŸæœ‰çš„ç´¢å¼•
df.set_index('æœˆä»½', inplace=True)


st.header("é—¨åº—æ•°æ®")
# ä½¿ç”¨write()æ–¹æ³•å±•ç¤ºæ•°æ®æ¡†
st.write(df)
st.header("é¢ç§¯å›¾")
df = pd.DataFrame(data)
# å®šä¹‰æ•°æ®æ¡†æ‰€ç”¨çš„æ–°ç´¢å¼•
index = pd.Series([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], name='åºå·')
 # å°†æ–°ç´¢å¼•åº”ç”¨åˆ°æ•°æ®æ¡†ä¸Š
df.index = index
st.area_chart(df, x='æœˆä»½')
df.set_index('æœˆä»½', inplace=True)
st.subheader("è®¾ç½®yå‚æ•°")
# é€šè¿‡yå‚æ•°ç­›é€‰åªæ˜¾ç¤º1å·é—¨åº—çš„æ•°æ®
st.area_chart(df, y='ç™¾ç››åº—')
# é€šè¿‡yå‚æ•°ç­›é€‰åªæ˜¾ç¤º2ã€3å·é—¨åº—çš„æ•°æ®
st.area_chart(df, y=['è¥¿å¤§åœ°é“ç«™åº—','è¥¿ä¹¡å¡˜å¸‚åœºåº—'])





